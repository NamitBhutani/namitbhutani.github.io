---
import Layout from "../layouts/Layout.astro";
import { Header } from "../components/Header";
import { ProjectCard } from "../components/ProjectCard";
import { ExperienceCard } from "../components/ExperienceCard";
import { ResearchCard } from "../components/ResearchCard";
import { SocialLinks } from "../components/SocialLinks";
import { Button } from "@/components/ui/button";
import { HugeiconsIcon } from "@hugeicons/react";
import {
    ArrowRight01Icon,
    Download01Icon,
    UniversityIcon,
} from "@hugeicons/core-free-icons";

// Data
const projects = [
    {
        title: "procLand",
        description:
            "GPU-accelerated 3D terrain generator using OpenGL compute shaders. Implemented Marching Cubes on GPU with optimized SSBO pipeline rendering 100K+ polygons.",
        tags: ["C++", "OpenGL", "Compute Shaders", "GLSL"],
        github: "https://github.com/yourusername/procland",
    },
    {
        title: "radialGL",
        description:
            "Interactive 2D tree visualization engine implementing the radial layout algorithm. Features real-time rerooting and smooth animations.",
        tags: ["C++", "OpenGL", "ImGui", "Algorithms"],
        github: "https://github.com/yourusername/radialgl",
    },
];

const experience = [
    {
        role: "Google Summer of Code Contributor",
        company: "Blender Foundation",
        period: "Jun 2025 – Sep 2025",
        description: [
            "Optimized Blender’s sculpting performance for >1M vertex meshes.",
            "Implemented spatial mesh reordering improving cache coherency by 35%.",
            "Reduced undo memory overhead by 60% using zstd compression.",
        ],
        skills: [
            "C++",
            "Systems Programming",
            "Optimization",
            "Blender Internal",
        ],
    },
    {
        role: "Software Engineering Intern",
        company: "Vidcentum Technologies",
        period: "May 2024 – Jul 2024",
        description: [
            "Built high-throughput async API for ML retrieval.",
            "Achieved <100ms latency on 50K+ documents using Meilisearch.",
        ],
        skills: ["Python", "Backend", "API Design"],
    },
];
---

<Layout title="Namit Bhutani | Graphics Programmer">
    <Header client:load />

    <main class="flex flex-col min-h-screen">
        <section
            id="home"
            class="container mx-auto px-4 py-24 md:py-32 flex flex-col justify-center items-start gap-6"
        >
            <div
                class="inline-flex items-center rounded-lg bg-muted px-3 py-1 text-sm font-medium text-primary animate-in fade-in slide-in-from-bottom-4 duration-1000"
            >
                GSoC '25 @ Blender Foundation
            </div>

            {/* Headline */}
            <h1 class="text-4xl md:text-6xl font-bold tracking-tight">
                Hi, I'm <span class="text-primary">Namit Bhutani</span>.
            </h1>

            {/* Bio */}
            <p class="text-xl text-muted-foreground max-w-160 leading-relaxed">
                <span class="text-foreground font-medium"
                    >CS Undergrad at BITS Pilani</span
                > building real-time graphics systems. I explore the intersection
                of rendering algorithms, GPU compute, and Machine Learning.
            </p>

            {/* Education */}
            <div
                class="flex flex-col sm:flex-row gap-3 sm:items-center text-muted-foreground border-l-2 border-primary/40 pl-4 py-1 mt-2"
            >
                <div class="flex items-center gap-2">
                    <HugeiconsIcon
                        icon={UniversityIcon}
                        size={20}
                        className="text-primary"
                    />
                    <span class="font-semibold text-foreground"
                        >BITS Pilani</span
                    >
                </div>
                <span class="hidden sm:inline text-border">|</span>
                <div class="text-sm font-mono">
                    B.E. CS & M.Sc. Economics (2022-27)
                </div>
                <span class="hidden sm:inline text-border">|</span>
                <!-- <div
                    class="inline-flex items-center gap-1.5 bg-primary/10 px-2 py-0.5 rounded text-xs font-bold text-primary"
                >
                    CGPA: 8.76
                </div> -->
            </div>

            {/* Buttons */}
            <div class="flex gap-4 mt-4">
                <Button size="lg" className="gap-2">
                    View Projects <HugeiconsIcon
                        icon={ArrowRight01Icon}
                        size={20}
                    />
                </Button>
                <Button size="lg" variant="outline" className="gap-2">
                    Download Resume <HugeiconsIcon
                        icon={Download01Icon}
                        size={20}
                    />
                </Button>
            </div>

            <div class="mt-8">
                <SocialLinks client:load />
            </div>
        </section>

        {/* RESEARCH SECTION */}
        <section id="research" class="container mx-auto px-4 py-16 border-t">
            <h2 class="text-3xl font-bold mb-8 font-mono">Research</h2>
            <div class="grid gap-6 md:grid-cols-2">
                <ResearchCard
                    title="Real-Time Rendering of Polarized Light"
                    role="Undergraduate Researcher"
                    date="Aug 2025 - Present"
                    advisors="Prof. Tathagata Ray & Prof. Sumanta Pattanaik (UCF)"
                    points={[
                        "Developing real-time photoelasticity pipeline for VR.",
                        "Implemented Enfeldt & Goswami polarization model in Unity shaders.",
                        "Extended model for transmission through dielectrics.",
                    ]}
                />
                <ResearchCard
                    title="LegalTree – AI-Powered Legal Discourse"
                    role="Researcher"
                    date="Aug 2024 - Nov 2024"
                    advisors="BITS Pilani"
                    points={[
                        "Paper under review for discourse relation extraction.",
                        "Engineered LLM prompts for 85% accuracy in semantic triplet generation.",
                        "Built RAG pipeline for 10,000+ legal documents.",
                    ]}
                />
            </div>
        </section>

        {/* EXPERIENCE SECTION */}
        <section id="experience" class="container mx-auto px-4 py-16 border-t">
            <h2 class="text-3xl font-bold mb-8 font-mono">Experience</h2>
            <div class="max-w-3xl">
                {experience.map((exp) => <ExperienceCard {...exp} />)}
            </div>
        </section>

        {/* PROJECTS SECTION */}
        <section id="projects" class="container mx-auto px-4 py-16 border-t">
            <h2 class="text-3xl font-bold mb-8 font-mono">Projects</h2>
            <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                {projects.map((proj) => <ProjectCard {...proj} />)}
            </div>
        </section>

        {/* FOOTER */}
        <footer class="border-t py-8 mt-auto">
            <div
                class="container mx-auto px-4 flex justify-between items-center text-sm text-muted-foreground"
            >
                <p>&copy; 2025 Namit Bhutani (IntelloManiac)</p>
                <SocialLinks client:load />
            </div>
        </footer>
    </main>
</Layout>
